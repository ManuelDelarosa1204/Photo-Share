{% extends 'base.html' %}

{% block title %}
    Profile {{ profile_user.username }}
{% endblock title %}

{% block content %}
    <h1>
        {{ profile_user.username }}
    </h1>

    <a href="{% url 'album:albums' profile_user.slug %}" class="btn btn-primary">
        Albums
    </a>
   
    {% if request.user.username == profile_user.username %}
    {% comment "" %}
    If the user is viewing their own profile show all images.
    {% endcomment %}
        {% for image in profile_user.photos.all %}
            <div class="card mb-4" style="width: 18rem;">
                <img src="{{ image.image.url }}" alt="{{ image.name }}" class="img-card-top">
                <div class="card-body">
                    <h5 class="card-title">
                        {{ image.name }}
                    </h5>
                </div>
            </div>
        {% endfor %}
    {% else %}
    {% comment "" %}
    If the user viewing the profile is not the profile owner
    only show public images.
    {% endcomment %}
        {% for image in public_images %}
            <div class="card mb-4" style="width:18rem;">
                <img src="{{ image.image.url }}" alt="{{ image.name }}" class="img-card-top">
                <div class="card-body">
                    <h5 class="card-title">
                        {{ image.name }}
                    </h5>
                </div>
            </div>
        {% endfor %}
    {% endif %}

{% endblock content %}